<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>HJB Servlet</title>
    <link href="hjb_v1.css" type="text/css" rel="stylesheet">
    </link>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    </meta>
<meta content="Docutils 0.3.7: http://docutils.sourceforge.net/" name="generator">
</meta>
  </head>
  <body align="center">
    <div class="outer-body">
    <div class="hjb-title">
      <h2 class="hjb-title">HJB (HTTP JMS Bridge)</h2>
     </div>
   <div class="navigation-bar">
     <table align="center" class="navigation-bar">
       <tbody>
	 <tr>
	   <td>
	   <a href="index.html">Home</a></td>
	   <td>
	   <a href="download.html">Download</a></td>
	   <td>
	   <a href="doc.html">Documentation</a></td>
	   <td>
	   <a href="detailed-design.html">Design</a></td>
	   <td>
	   <a href="mailto:users@hjb.tigris.org">Support</a></td>
	 </tr>
       </tbody>
     </table>
   </div>
   
   <div>
    
     <div class="inner-body">
      <h2>HJB Servlet</h2>
      <p>HJB Servlet is the access point for HJB requests - it acts as a HTTP
gateway server for JMS providers.</p>
<p>It plays several roles:</p>
<ul class="simple">
<li>
<a href="#command-dispatch" class="reference">Command dispatch</a></li>
<li>
<a href="#maintaining-references-to-jms-objects" class="reference">Maintaining references to JMS objects</a></li>
<li>
<a href="#optional-storage-of-provider-configuration" class="reference">Optional storage of provider configuration</a></li>
</ul>
<div class="section" id="command-dispatch">
<h2>
<a name="command-dispatch">Command Dispatch</a></h2>
<p>HJB Servlet handles POST, GET and DELETE requests if they match
specific URL patterns (see the <a href="./command-list.html" class="reference">JMS command list</a> for all the URL
patterns).</p>
<ul class="simple">
<li>On receiving a matching request, if the request URLs does not map to
JMS objects that are present in the JMS runtime, or if the request
cannot be otherwise handled, the servlet responds with <em>404 NOT
FOUND</em>.</li>
<li>On receiving a request that can be handled, the HJB servlet will
successfully create a JMS command and schedule its execution. For
further more on JMS commands see <a href="./command-dispatch.html" class="reference">JMS Commands</a>.</li>
</ul>
</div>
<div class="section" id="maintaining-references-to-jms-objects">
<h2>
<a name="maintaining-references-to-jms-objects">Maintaining references to JMS Objects</a></h2>
<p>HJB Servlet allows</p>
<ul class="simple">
<li>registration of Provider supplied administrable JMS objects, such as
connection factories and destinations.</li>
<li>creation of JMS connections, sessions, consumers, subscribers,
producers and consumers at runtime using the JMS API.</li>
</ul>
<p>All of these objects are held in memory by the HJB runtime, which
provides access to them via URIs that have particular patterns.</p>
<ul class="simple">
<li>HJB servlet is accessible from the servlet container on a particular
context path and root.  Its URI is denoted below as HJB_ROOT.</li>
<li>Each object's path is below the path of the object responsible for
registering or creating it.</li>
<li>Where the an object's creator or registrar can create several
instances of the object, the object's URI is suffixed with its
creation index.  The creation index is the number of instances at
created/registered by its creator/registrar at the time it was
created/registered.</li>
</ul>
<p>This leads to the URI space in the table below. Note that these URIs
denote the <em>conceptual</em> location of a JMS object in the the HJB
runtime.  They will not necessarily be URLs that respond to an HTTP
request - in general, HJB's behaviour is implemented by sending
requests to child paths of the these URIs (cf. <a href="./command-list.html" class="reference">JMS command list</a>).</p>
<table border="1" class="display-items docutils">
<colgroup>
<col width="30%">
</col>
<col width="70%">
</col>
</colgroup>
<thead valign="bottom">
<tr>
<th>JMS Object</th>
<th>URL</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td>Provider</td>
<td>HJB_ROOT/provider-name</td>
</tr>
<tr>
<td>Destination</td>
<td>HJB_ROOT/provider-name/destination-jndi-key</td>
</tr>
<tr>
<td>Connection Factory
(<em>FACTORY_URL</em>)</td>
<td>HJB_ROOT/provider-name/factory-jndi-name</td>
</tr>
<tr>
<td>Connection
(<em>CONNECTION_URL</em>)</td>
<td>FACTORY_URL/connection-<em>nnn</em></td>
</tr>
<tr>
<td>Session</td>
<td>FACTORY_URL/connection-<em>nnn</em>/session-<em>nnn</em></td>
</tr>
<tr>
<td>MessageProducer</td>
<td>CONNECTION_URL/session-<em>nnn</em>/producer-<em>nnn</em></td>
</tr>
<tr>
<td>MessageConsumer</td>
<td>CONNECTION_URL/session-<em>nnn</em>/consumer-<em>nnn</em></td>
</tr>
<tr>
<td>DurableSubscriber</td>
<td>CONNECTION_URL/session-<em>nnn</em>/subscriber-<em>nnn</em></td>
</tr>
<tr>
<td>QueueBrowser</td>
<td>CONNECTION_URL/session-<em>nnn</em>/browser-<em>nnn</em></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="optional-storage-of-provider-configuration">
<h2>
<a name="optional-storage-of-provider-configuration">Optional Storage of Provider configuration</a></h2>
<p>It will be possible to configure the HJB servlet to remember any JMS
Providers that have been configured, so that they do not need to
re-registered each time the HJB servlet is restarted.  This feature is
not implemented yet.</p>
</div>
      <hr class="docutils footer">
      </hr>
<div class="footer">
<a href="hjb-servlet.rst" class="reference">View document source</a>.
Generated by <a href="http://docutils.sourceforge.net/" class="reference">Docutils</a> from <a href="http://docutils.sourceforge.net/rst.html" class="reference">reStructuredText</a> source.
</div>
    </div>
  </div>
   </div>
   
  </body>
</html>